(this["webpackJsonpzpoken-currency-converter"]=this["webpackJsonpzpoken-currency-converter"]||[]).push([[0],{14:function(e,t,n){e.exports={app:"App_app__3BT4Y",equals:"App_equals__IHSw5",error:"App_error__3kwyn"}},19:function(e,t,n){e.exports={container:"Info_container__264dM",to:"Info_to__1OySq"}},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var c,r=n(1),a=n(0),u=n.n(a),o=n(11),s=n.n(o),i=n(4),j=n(9),l=n.n(j),b=n(21),p=n(13),O=n(7),d=n.p+"static/media/btc.0965940a.svg",f=n.p+"static/media/eur.0d982a76.svg",v=n.p+"static/media/rur.131e59b5.svg",m=n.p+"static/media/uah.3f024d6e.svg",h=n.p+"static/media/usd.6b1a1f99.svg";!function(e){e.UAH="UAH",e.BTC="BTC",e.USD="USD",e.EUR="EUR",e.RUR="RUR"}(c||(c={}));var y={UAH:m,BTC:d,USD:h,EUR:f,RUR:v},C=n.p+"static/media/remove.e1213946.svg",g=n(8),_=n.n(g);function x(e){var t=e.allCurrencies,n=e.selectedCurrency,c=e.handleCurrencyChange,a=e.amount,u=e.handleAmountChange,o=e.handleResetAmount;return Object(r.jsxs)("div",{className:_.a.container,children:[Object(r.jsxs)("span",{className:_.a.inputContainer,children:[Object(r.jsx)("input",{type:"text",className:_.a.input,value:a,onChange:u}),Object(r.jsx)("button",{type:"button",className:_.a.button,onClick:o,children:Object(r.jsx)("img",{className:_.a.remove,src:C,alt:"remove"})})]}),Object(r.jsx)("img",{className:_.a.img,src:y[n],alt:"currency"}),Object(r.jsx)("select",{className:_.a.select,value:n,onChange:c,children:t.map((function(e){return Object(r.jsx)("option",{value:e,children:e},e)}))})]})}var R=n(5),A=Object(R.b)("fromAmount"),S=Object(R.b)("toAmount"),U=Object(R.b)("fromCurrency"),w=Object(R.b)("toCurrency"),N=function(e){return e.currencies[A.type]},E=function(e){return e.currencies[S.type]},k=function(e){return e.currencies[U.type]},D=function(e){return e.currencies[w.type]},H=n(19),B=n.n(H);function q(){var e=Object(i.c)(N),t=Object(i.c)(E),n=Object(i.c)(k),c=Object(i.c)(D);return Object(r.jsxs)("div",{className:B.a.container,children:[e," ",n," equals",Object(r.jsxs)("div",{className:B.a.to,children:[t," ",c]})]})}var T=function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.privatbank.ua/p24api/pubinfo?exchange&json&coursid=11").then((function(e){return e.json()}));case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log("getExchangeRates api error: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),I=n(3),z=function(e){return"."===e?"":e.replace(/[^.\d]+/g,"").replace(/^([^.]*\.)|\./g,"$1")},F=n(14),J=n.n(F);var K=function(){var e=Object(i.b)(),t=Object(a.useState)(!1),n=Object(O.a)(t,2),u=n[0],o=n[1],s=Object(a.useState)([]),j=Object(O.a)(s,2),d=j[0],f=j[1],v=Object(a.useState)(),m=Object(O.a)(v,2),h=m[0],y=m[1],C=Object(a.useState)(),g=Object(O.a)(C,2),_=g[0],R=g[1],N=Object(a.useState)(1),E=Object(O.a)(N,2),k=E[0],D=E[1],H=Object(a.useState)(1),B=Object(O.a)(H,2),F=B[0],K=B[1],M=Object(a.useState)(!0),P=Object(O.a)(M,2),X=P[0],Y=P[1],Z=Object(a.useState)([]),$=Object(O.a)(Z,2),G=$[0],L=$[1];Object(a.useEffect)((function(){function t(){return(t=Object(p.a)(l.a.mark((function t(){var n,r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T();case 2:n=t.sent,L(n),(null===n||void 0===n?void 0:n.length)?(r=n[0].base_ccy,a=[r].concat(Object(b.a)(n.map((function(e){return e.ccy})))),f(a),y(c.UAH),R(c.USD),e(U(c.UAH)),e(w(c.USD))):o(!0);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(a.useEffect)((function(){if(h&&_&&(null===G||void 0===G?void 0:G.length)){var e=function(e,t,n){if(e===t)return 1;var r=Object(I.a)({},c.UAH,1);return n.forEach((function(e){e.ccy===c.BTC?r[e.ccy]=+e.sale*r[c.USD]:r[e.ccy]=+e.sale})),r[t]/r[e]}(h,_,G);D(e)}}),[h,_,G]);var Q,V,W=function(){K(0)};return X?(V=F,Q=F/k):(Q=F,V=F*k),Object(a.useEffect)((function(){e(S(+Q)),e(A(+V))}),[Q,V,e]),Object(r.jsxs)("div",{className:J.a.app,children:[Object(r.jsx)("h1",{children:"Currency Converter"}),u?Object(r.jsx)("div",{className:J.a.error,children:"Oops! Something wrong. Please try later."}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(q,{}),Object(r.jsx)(x,{allCurrencies:d,selectedCurrency:h,handleCurrencyChange:function(t){y(t.target.value),e(U(t.target.value))},handleAmountChange:function(e){var t=z(e.target.value);K(t),Y(!0)},handleResetAmount:W,amount:V}),Object(r.jsx)("div",{className:J.a.equals,children:"="}),Object(r.jsx)(x,{allCurrencies:d,selectedCurrency:_,handleCurrencyChange:function(t){R(t.target.value),e(w(t.target.value))},handleAmountChange:function(e){var t=z(e.target.value);K(t),Y(!1)},handleResetAmount:W,amount:Q})]})]})},M=n(6),P=n(2),X={fromAmount:1,toAmount:0,fromCurrency:c.UAH,toCurrency:c.USD},Y=Object(R.c)(X,(function(e){return e.addCase(A,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},Object(I.a)({},A.type,t.payload))})).addCase(S,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},Object(I.a)({},S.type,t.payload))})).addCase(U,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},Object(I.a)({},U.type,t.payload))})).addCase(w,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},Object(I.a)({},w.type,t.payload))}))})),Z=Object(P.c)({currencies:Y}),$=Object(R.a)({reducer:Z,devTools:!1});n(34);s.a.render(Object(r.jsx)(u.a.StrictMode,{children:Object(r.jsx)(i.a,{store:$,children:Object(r.jsx)(K,{})})}),document.getElementById("root"))},8:function(e,t,n){e.exports={container:"CurrencyRow_container__u7Zeo",inputContainer:"CurrencyRow_inputContainer__1Fjn8",button:"CurrencyRow_button__3KvyR",input:"CurrencyRow_input__2XBm9",select:"CurrencyRow_select__2oSao",img:"CurrencyRow_img__2pyEK",remove:"CurrencyRow_remove__2rtqD"}}},[[35,1,2]]]);
//# sourceMappingURL=main.341eea25.chunk.js.map