(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{13:function(e,t,n){e.exports={app:"App_app__3BT4Y",equals:"App_equals__IHSw5",error:"App_error__3kwyn"}},18:function(e,t,n){e.exports={container:"Info_container__264dM",to:"Info_to__1OySq"}},32:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),u=n(10),s=n.n(u),o=n(3),i=(n(32),n(8)),j=n.n(i),l=n(20),b=n(12),p=n(5),O=n(13),f=n.n(O),d=n(6),v=n.n(d),m=n.p+"static/media/btc.0965940a.svg",h=n.p+"static/media/eur.0d982a76.svg",y=n.p+"static/media/rur.131e59b5.svg",g=n.p+"static/media/uah.3f024d6e.svg",_=n.p+"static/media/usd.6b1a1f99.svg",C="UAH",x="BTC",w="USD",R={UAH:g,BTC:m,USD:_,EUR:h,RUR:y},S=n.p+"static/media/remove.e1213946.svg";function A(e){var t=e.allCurrencies,n=e.selectedCurrency,r=e.onChangeCurrency,a=e.amount,u=e.onChangeAmount,s=e.handleResetAmount;return Object(c.jsxs)("div",{className:v.a.container,children:[Object(c.jsxs)("span",{className:v.a.inputContainer,children:[Object(c.jsx)("input",{type:"text",className:v.a.input,value:a,onChange:u}),Object(c.jsx)("button",{type:"button",className:v.a.button,onClick:s,children:Object(c.jsx)("img",{className:v.a.remove,src:S,alt:"remove"})})]}),Object(c.jsx)("img",{className:v.a.img,src:R[n],alt:"currency"}),Object(c.jsx)("select",{className:v.a.select,value:n,onChange:r,children:t.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))})]})}var N=n(18),E=n.n(N),k=n(4),q=Object(k.b)("fromAmount"),U=Object(k.b)("toAmount"),B=Object(k.b)("fromCurrency"),I=Object(k.b)("toCurrency"),T=function(e){return e.currencies[q]},D=function(e){return e.currencies[U]},H=function(e){return e.currencies[B]},F=function(e){return e.currencies[I]};function J(){var e=Object(o.c)(T),t=Object(o.c)(D),n=Object(o.c)(H),r=Object(o.c)(F);return Object(c.jsxs)("div",{className:E.a.container,children:[e," ",n," equals",Object(c.jsxs)("div",{className:E.a.to,children:[t," ",r]})]})}var K=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.privatbank.ua/p24api/pubinfo?exchange&json&coursid=11").then((function(e){return e.json()}));case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log("getExchangeRates api error: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),M=n(7),P=function(e){return"."===e?"":e.replace(/[^.\d]+/g,"").replace(/^([^.]*\.)|\./g,"$1")};var X,Y=function(){var e=Object(o.b)(),t=Object(r.useState)(!1),n=Object(p.a)(t,2),a=n[0],u=n[1],s=Object(r.useState)([]),i=Object(p.a)(s,2),O=i[0],d=i[1],v=Object(r.useState)(""),m=Object(p.a)(v,2),h=m[0],y=m[1],g=Object(r.useState)(""),_=Object(p.a)(g,2),R=_[0],S=_[1],N=Object(r.useState)(1),E=Object(p.a)(N,2),k=E[0],T=E[1],D=Object(r.useState)(1),H=Object(p.a)(D,2),F=H[0],X=H[1],Y=Object(r.useState)(!0),Z=Object(p.a)(Y,2),$=Z[0],z=Z[1],G=Object(r.useState)([]),L=Object(p.a)(G,2),Q=L[0],V=L[1];Object(r.useEffect)((function(){function t(){return(t=Object(b.a)(j.a.mark((function t(){var n,c,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K();case 2:n=t.sent,V(n),(null===n||void 0===n?void 0:n.length)?(c=n[0].base_ccy,r=[c].concat(Object(l.a)(n.map((function(e){return e.ccy})))),d(r),y(C),S(w),e(B(C)),e(I(w))):u(!0);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(r.useEffect)((function(){if(h&&R&&(null===Q||void 0===Q?void 0:Q.length)){var e=function(e,t,n){if(e===t)return 1;var c=Object(M.a)({},C,1);return n.forEach((function(e){e.ccy===x?c[e.ccy]=+e.sale*c[w]:c[e.ccy]=+e.sale})),c[t]/c[e]}(h,R,Q);T(e)}}),[h,R,Q]);var W,ee,te=function(){X(0)};return $?(ee=F,W=F/k):(W=F,ee=F*k),Object(r.useEffect)((function(){e(U(+W)),e(q(+ee))}),[W,ee,e]),Object(c.jsxs)("div",{className:f.a.app,children:[Object(c.jsx)("h1",{children:"Currency Converter"}),a?Object(c.jsx)("div",{className:f.a.error,children:"Oops! Something wrong. Please try later."}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(J,{}),Object(c.jsx)(A,{allCurrencies:O,selectedCurrency:h,onChangeCurrency:function(t){y(t.target.value),e(B(t.target.value))},onChangeAmount:function(e){var t=P(e.target.value);X(t),z(!0)},handleResetAmount:te,amount:ee}),Object(c.jsx)("div",{className:f.a.equals,children:"="}),Object(c.jsx)(A,{allCurrencies:O,selectedCurrency:R,onChangeCurrency:function(t){S(t.target.value),e(I(t.target.value))},onChangeAmount:function(e){var t=P(e.target.value);X(t),z(!1)},handleResetAmount:te,amount:W})]})]})},Z=n(2),$=Object(k.c)({},(X={},Object(M.a)(X,q,(function(e,t){e[q]=t.payload})),Object(M.a)(X,U,(function(e,t){e[U]=t.payload})),Object(M.a)(X,B,(function(e,t){e[B]=t.payload})),Object(M.a)(X,I,(function(e,t){e[I]=t.payload})),X)),z=(Object(Z.c)({currenciesReducer:$}),Object(k.a)({reducer:{currencies:$},devTools:!1}));s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(o.a,{store:z,children:Object(c.jsx)(Y,{})})}),document.getElementById("root"))},6:function(e,t,n){e.exports={container:"CurrencyRow_container__u7Zeo",inputContainer:"CurrencyRow_inputContainer__1Fjn8",button:"CurrencyRow_button__3KvyR",input:"CurrencyRow_input__2XBm9",select:"CurrencyRow_select__2oSao",img:"CurrencyRow_img__2pyEK",remove:"CurrencyRow_remove__2rtqD"}}},[[34,1,2]]]);
//# sourceMappingURL=main.c3e12360.chunk.js.map